function init(){var e=[{src:"assets/tile_mask.png",id:"tile_mask"},{src:"assets/tile_blue.png",id:"tile_blue"},{src:"assets/tile_blue.json",id:"tile_blue_data"}];loader=new createjs.LoadQueue(!1),loader.addEventListener("complete",onLoad),loader.loadManifest(e)}function onLoad(){stage=new createjs.Stage("stage"),map=new createjs.Container,stage.addChild(map),stage.enableMouseOver(),w=stage.canvas.width,h=stage.canvas.height,stage.addEventListener("stagemousedown",onMouseDown),stage.addEventListener("stagemouseup",onMouseUp),stage.addEventListener("stagemousemove",onMouseMove),maskBounds={width:90,height:35.5};for(var e=new createjs.Sprite(new createjs.SpriteSheet(loader.getResult("tile_blue_data")),"blue_tile"),t=0;12>t;++t)for(var a=0;6>a;++a){var s=new Tile(e);s.x=a*maskBounds.width*2+t%2*maskBounds.width,s.y=t*maskBounds.height,s.hitArea=new createjs.Bitmap(loader.getResult("tile_mask")),map.addChild(s),s.on("rollover",function(){this.children[0].gotoAndPlay("pulsate")}),s.on("rollout",function(){this.children[0].gotoAndPlay("blue_tile")})}createjs.Ticker.addEventListener("tick",onTick)}function onTick(e){stage.update(e)}function Tile(e){return tile=new createjs.Container,tile.sprite=tile.addChild(e),tile.clone(!0)}function onMouseDown(e){mouseIsDown=!0,dragOrigin={x:e.stageX-map.x,y:e.stageY-map.y}}function onMouseUp(e){mouseIsDown=!1}function onMouseMove(e){mouseIsDown&&(console.log(map.getBounds()),map.x=e.stageX-dragOrigin.x,map.y=e.stageY-dragOrigin.y)}var stage,w,h,loader,map,maskBounds,dragOrigin,mouseIsDown=!1;init();